fragment_downloaded_cb({"url":"plugin-development/advanced/allocation.html#negotiating-the-exact-layout-of-video-buffers","fragment":"Negotiating the exact layout of video buffers\nHardware elements may have specific constraints on the layout\nof their input buffers, requiring to add vertical and/or horizontal paddings\nto their planes.\nIf the producer is able to create buffers fulfilling these requirements,\nwe can ensure zero-copy by configuring its driver accordingly before starting to produce\nbuffers.\nIn such setup on Linux we'll generally use dmabuf to exchange buffers in order\nto reduce memory copies. The producer can either export its buffers\nto the consumer (dmabuf export) or import them from it (dmabuf import).\nIn this section we'll outline the steps for how the consumer can inform the\nproducer of its expected buffer layout for import and export use cases.\nLet's consider v4l2src (the producer) feeding buffers to\nv4l2h264enc (the consumer) for encoding.\n"});