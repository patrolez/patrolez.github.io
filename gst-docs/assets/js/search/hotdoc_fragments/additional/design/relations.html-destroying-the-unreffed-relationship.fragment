fragment_downloaded_cb({"url":"additional/design/relations.html#destroying-the-unreffed-relationship","fragment":"destroying the unreffed relationship\nBecause of the lock order we need to be careful when destroying this\nrelation.\nWhen only a reference to object1 is held:\nWhen only a reference to object2 is held, we need to get a handle to the\nother object fist so that we can lock it first. There is a window where\nwe need to release all locks and the relation could be invalid. To solve\nthis we check the relation after grabbing both locks and retry if the\nrelation changed.\n"});