fragment_downloaded_cb({"url":"additional/design/keyframe-force.html#downstream","fragment":"Downstream\nThe implementation would consist of generating a GST_EVENT_CUSTOM_DOWNSTREAM\nevent that marks the keyframe boundary. This event is inserted into the\npipeline by the application upon a certain trigger. In the above use case\nthis trigger would be given by the element that detects the pattern, in the\nform of an element message.\nThe custom event would travel further downstream to instruct encoder,\nmuxer and sink about the possible switch.\nThe information passed in the event consists of:\nGstForceKeyUnit\n\"timestamp\" (G_TYPE_UINT64): the timestamp of the buffer that\ntriggered the event.\n\"stream-time\" (G_TYPE_UINT64): the stream position that triggered the event.\n\"running-time\" (G_TYPE_UINT64): the running time of the stream when\nthe event was triggered.\n\"all-headers\" (G_TYPE_BOOLEAN): Send all headers, including\nthose in the caps or those sent at the start of the stream.\n...: optional other data fields.\nNote that this event is purely informational, no element is required to\nperform an action but it should forward the event downstream, just like\nany other event it does not handle.\nElements understanding the event should behave as follows:\nThe video encoder receives the event before the next frame. Upon\nreception of the event it schedules to encode the next frame as a\nkeyframe. Before pushing out the encoded keyframe it must push the\nGstForceKeyUnit event downstream.\nThe muxer receives the GstForceKeyUnit event and flushes out its\ncurrent state, preparing to produce data that can be used as a\nkeyunit. Before pushing out the new data it pushes the\nGstForceKeyUnit event downstream.\nThe application receives the GstForceKeyUnit on a sink padprobe of\nthe sink and reconfigures the sink to make it perform new actions\nafter receiving the next buffer.\n\n\n\"timestamp\" (G_TYPE_UINT64): the timestamp of the buffer that\ntriggered the event.\n\n\n\"stream-time\" (G_TYPE_UINT64): the stream position that triggered the event.\n\n\n\"running-time\" (G_TYPE_UINT64): the running time of the stream when\nthe event was triggered.\n\n\n\"all-headers\" (G_TYPE_BOOLEAN): Send all headers, including\nthose in the caps or those sent at the start of the stream.\n\n\n...: optional other data fields.\n\n\n"});