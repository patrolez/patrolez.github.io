fragment_downloaded_cb({"url":"additional/design/negotiation.html#pushmode-negotiation","fragment":"Push-mode negotiation\nPush-mode negotiation happens when elements want to push buffers and\nneed to decide on the format. This is called downstream negotiation\nbecause the upstream element decides the format for the downstream\nelement. This is the most common case.\nNegotiation can also happen when a downstream element wants to receive\nanother data format from an upstream element. This is called upstream\nnegotiation.\nThe basics of negotiation are as follows:\nGstCaps (see caps) are refcounted before they are pushed as\nan event to describe the contents of the following buffer.\nAn element should reconfigure itself to the new format received as a\nCAPS event before processing the following buffers. If the data type\nin the caps event is not acceptable, the element should refuse the\nevent. The element should also refuse the next buffers by returning\nan appropriate GST_FLOW_NOT_NEGOTIATED return value from the\nchain function.\nDownstream elements can request a format change of the stream by\nsending a RECONFIGURE event upstream. Upstream elements will\nrenegotiate a new format when they receive a RECONFIGURE event.\nThe general flow for a source pad starting the negotiation.\nOne possible implementation in pseudo code:\n\n\nGstCaps (see caps) are refcounted before they are pushed as\nan event to describe the contents of the following buffer.\n\n\nAn element should reconfigure itself to the new format received as a\nCAPS event before processing the following buffers. If the data type\nin the caps event is not acceptable, the element should refuse the\nevent. The element should also refuse the next buffers by returning\nan appropriate GST_FLOW_NOT_NEGOTIATED return value from the\nchain function.\n\n\nDownstream elements can request a format change of the stream by\nsending a RECONFIGURE event upstream. Upstream elements will\nrenegotiate a new format when they receive a RECONFIGURE event.\n\n\n"});