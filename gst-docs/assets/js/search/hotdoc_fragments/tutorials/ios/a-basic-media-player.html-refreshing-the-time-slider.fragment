fragment_downloaded_cb({"url":"tutorials/ios/a-basic-media-player.html#refreshing-the-time-slider","fragment":"Refreshing the Time Slider\nBasic tutorial 5: GUI toolkit integration has\nalready shown how to implement a Seek Bar (or Time\nSlider\nin this tutorial) using the GTK+ toolkit. The implementation on iOS is\nvery similar.\nThe Seek Bar accomplishes to functions: First, it moves on its own to\nreflect the current playback position in the media. Second, it can be\ndragged by the user to seek to a different position.\nTo realize the first function, GStreamerBackend  will periodically\ncall our setCurrentPosition method so we can update the position of\nthe thumb in the Seek Bar. Again we do so from the UI thread, using\ndispatch_async().\nAlso note that if the user is currently dragging the slider (the\ndragging_slider variable is explained below) we ignore\nsetCurrentPosition calls from GStreamerBackend, as they would\ninterfere with the user’s actions.\nTo the left of the Seek Bar (refer to the screenshot at the top of this\npage), there is\na TextField widget\nwhich we will use to display the current position and duration in\n\"HH:mm:ss / HH:mm:ss\" textual format. The updateTimeWidget method\ntakes care of it, and must be called every time the Seek Bar is\nupdated:\nSeeking with the Seek Bar\nTo perform the second function of the Seek Bar (allowing the user to\nseek by dragging the thumb), we register some callbacks through IBAction\noutlets. Refer to the storyboard in this tutorial’s project to see which\noutlets are connected. We will be notified when the user starts dragging\nthe Slider, when the Slider position changes and when the users releases\nthe Slider.\nsliderTouchDown is called when the user starts dragging. Here we pause\nthe pipeline because if the user is searching for a particular scene, we\ndo not want it to keep moving. We also mark that a drag operation is in\nprogress in the dragging_slider variable.\nsliderValueChanged is called every time the Slider’s thumb moves, be\nit because the user dragged it, or because we changed its value form the\nprogram. We discard the latter case using the\ndragging_slider variable.\nAs the comment says, if this is a local media, we allow scrub seeking,\nthis is, we jump to the indicated position as soon as the thumb moves.\nOtherwise, the seek operation will be performed when the thumb is\nreleased, and the only thing we do here is update the textual time\nwidget.\nFinally, sliderTouchUp is called when the thumb is released. We\nperform the seek operation if the file was non-local, restore the\npipeline to the desired playing state and end the dragging operation by\nsetting dragging_slider to NO.\nThis concludes the User interface part of this tutorial. Let’s review\nnow the GStreamerBackend  class that allows this to work.\n"});